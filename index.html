<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>SCGame</title>
    <link rel="preconnect" href="https://telegram.org" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat+Alternates:wght@400;600;700&display=swap"
        rel="stylesheet">
    <script src="https://telegram.org/js/games.js"></script>
    <link rel="stylesheet" href="style.css" />
</head>

<body>
    <!-- Canvas –¥–ª—è –∏–≥—Ä—ã -->
    <canvas id="game"></canvas>

    <!-- HUD -->
    <div id="hud">
        <div style="position:fixed;left:16px;top:16px;z-index:5;display:flex;gap:10px;align-items:center;">
            <div id="hudScore" style="background:#ffffff14;padding:6px 10px;border-radius:12px;font-weight:800">
                üèÜ <span id="score">0</span>
            </div>
        </div>
        <div style="position:fixed;right:16px;top:20px;z-index:5;">
            <div style="width:120px;height:10px;background:#ffffff1f;border-radius:999px;overflow:hidden">
                <div id="timer-fill"
                    style="height:100%;width:100%;background:linear-gradient(90deg,#55ddff,#ff5cf0);transform-origin:left center">
                </div>
            </div>
        </div>
    </div>

    <!-- –¢–≤–æ–π —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —ç–∫—Ä–∞–Ω -->
    <div class="overlay" id="overlay">
        <div class="overlay__top">
            <div class="profile-avatar">
                <img id="meAvatarTop" alt="">
            </div>
            <button id="topbtn" class="topbtn__css" title="–¢–û–ü-20">üèÜ –¢–û–ü-20</button>
        </div>
        <div class="overlay__menu">
            <div class="overlay__icon">
                <img class="overlay__icon-image" src="public/images/icon_game.png" alt="Game Icon">
            </div>
            <button id="how" class="invite-head__how" aria-label="–ö–∞–∫ –∏–≥—Ä–∞—Ç—å">?</button>
            <div class="invite-htexts">
                <h1 class="invite-title">–í–µ–¥–∏ –∑–∞ —Å–æ–±–æ–π</h1>
                <div class="invite-sub">–§–∏–Ω–∏—à–∏—Ä—É–π –ø–µ—Ä–≤—ã–º –∏ –ø–æ–ª—É—á–∏ –±–æ–Ω—É—Å!</div>
            </div>
            <div class="game-actions">
                <button id="invite" class="game-btn game-btn--outline">–û–¢–ü–†–ê–í–ò–¢–¨ –ò–ì–†–£</button>
                <button id="start" class="game-btn game-btn--play">–ò–ì–†–ê–¢–¨</button>
            </div>
        </div>
    </div>

    <!-- –≠–∫—Ä–∞–Ω Game Over -->
    <div id="gameover" class="hide gameover">
        <h2 style="margin-bottom:16px;">–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞</h2>
        <p>–í–∞—à —Å—á—ë—Ç: <b id="final-score">0</b></p>

        <div class="gameover__btns"
            style="margin-top:20px;display:flex;flex-direction:column;gap:12px;align-items:center;">
            <button id="again" class="game-btn game-btn--play" style="width:200px;">–ï—â—ë —Ä–∞–∑</button>
            <button id="share" class="game-btn game-btn--outline" style="width:200px;">–ü–æ–¥–µ–ª–∏—Ç—å—Å—è</button>
        </div>
    </div>


    <!-- –ú–æ–¥–∞–ª–∫–∞ "–ö–∞–∫ –∏–≥—Ä–∞—Ç—å?" -->
    <div id="how-modal" class="modal hide"
        style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:30;display:grid;place-items:center;">
        <div style="background:#1e2a45;color:#fff;padding:20px;border-radius:16px;max-width:420px;">
            <h3>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å</h3>
            <ul style="margin-left:16px;margin-top:10px;line-height:1.5">
                <li>–ù–∞–∂–∏–º–∞–π—Ç–µ –Ω–∞ ¬´–≥–æ–ª–æ–≤—É¬ª.</li>
                <li>–ö–∞–∂–¥–∞—è —Å–ª–µ–¥—É—é—â–∞—è —Ü–µ–ª—å –∂–∏–≤—ë—Ç –º–µ–Ω—å—à–µ.</li>
                <li>–ü–æ–ø–∞–¥–∞–Ω–∏–µ: +1 –æ—á–∫–æ. –ü—Ä–æ–º–∞—Ö —Å–æ–∫—Ä–∞—â–∞–µ—Ç –≤—Ä–µ–º—è.</li>
            </ul>
            <div style="margin-top:20px;text-align:right;">
                <button id="modal-ok" class="game-btn game-btn--play">–ü–æ–Ω—è—Ç–Ω–æ</button>
            </div>
        </div>
    </div>

    <!-- –ü–∞–Ω–µ–ª—å –¢–û–ü-20 -->
    <div id="leaders-panel" class="hide"
        style="display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:40;display:grid;place-items:center;">
        <div
            style="width:min(520px,92vw);max-height:80vh;background:#1a2235;color:#fff;border-radius:16px;box-shadow:0 20px 60px rgba(0,0,0,.5);overflow:hidden;display:grid;grid-template-rows:auto 1fr;">
            <div
                style="padding:12px 14px;background:rgba(255,255,255,.06);display:flex;align-items:center;justify-content:space-between;">
                <h3 style="margin:0">–¢–û–ü-20 –∏–≥—Ä–æ–∫–æ–≤</h3>
                <button id="close-top"
                    style="border:0;background:rgba(255,255,255,.12);color:#fff;border-radius:10px;padding:6px 10px;cursor:pointer;font-weight:700">‚úï</button>
            </div>
            <div id="leaders-list" style="padding:8px;overflow:auto;"></div>
        </div>
    </div>

    <script src="sfx.js"></script>
    <script src="game.js"></script>
</body>

</html>